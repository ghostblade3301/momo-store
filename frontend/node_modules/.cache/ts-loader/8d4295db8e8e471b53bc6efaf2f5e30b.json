{"remainingRequest":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-plugin-typescript/node_modules/thread-loader/dist/cjs.js!/home/gh/Devops/momo-store/frontend/node_modules/babel-loader/lib/index.js!/home/gh/Devops/momo-store/frontend/node_modules/ts-loader/index.js??ref--14-3!/home/gh/Devops/momo-store/frontend/src/services/api.service.ts","dependencies":[{"path":"/home/gh/Devops/momo-store/frontend/src/services/api.service.ts","mtime":1720610520162},{"path":"/home/gh/Devops/momo-store/frontend/babel.config.js","mtime":1720610520158},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js","mtime":1720610674487},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-plugin-typescript/node_modules/thread-loader/dist/cjs.js","mtime":1720610674455},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/babel-loader/lib/index.js","mtime":1720610669087},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/ts-loader/index.js","mtime":1720610659715}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2doL0Rldm9wcy9tb21vLXN0b3JlL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9naC9EZXZvcHMvbW9tby1zdG9yZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2doL0Rldm9wcy9tb21vLXN0b3JlL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IHBhcnNlIH0gZnJvbSAnY29va2llJzsKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTDsKCnZhciBBcGlTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBBcGlTZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFwaVNlcnZpY2UpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEFwaVNlcnZpY2UsIG51bGwsIFt7CiAgICBrZXk6ICJnZXRDc3JmVG9rZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRDc3JmVG9rZW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGZldGNoLAogICAgICAgICAgICBjb29raWVzLAogICAgICAgICAgICBfYXJncyA9IGFyZ3VtZW50czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBmZXRjaCA9IF9hcmdzLmxlbmd0aCA+IDAgJiYgX2FyZ3NbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzBdIDogdHJ1ZTsKICAgICAgICAgICAgICAgIGNvb2tpZXMgPSBwYXJzZShkb2N1bWVudC5jb29raWUpOwoKICAgICAgICAgICAgICAgIGlmICghY29va2llc1snbW9ja19zdG9yZV9jc3JmdG9rZW4nXSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgY29va2llc1snbW9ja19zdG9yZV9jc3JmdG9rZW4nXSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGlmIChmZXRjaCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoJ05vIENTUkYgdG9rZW4gZm91bmQnKSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCcvY3NyZi8nKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdGhpcy5nZXRDc3JmVG9rZW4oZmFsc2UpKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldENzcmZUb2tlbigpIHsKICAgICAgICByZXR1cm4gX2dldENzcmZUb2tlbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0Q3NyZlRva2VuOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0SGVhZGVycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldEhlYWRlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBleHRyYSwKICAgICAgICAgICAgX2FyZ3MyID0gYXJndW1lbnRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBleHRyYSA9IF9hcmdzMi5sZW5ndGggPiAwICYmIF9hcmdzMlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzBdIDoge307CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBPYmplY3Q7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDc3JmVG9rZW4oKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDIgPSB7CiAgICAgICAgICAgICAgICAgICdYLUNTUkZUT0tFTic6IF9jb250ZXh0Mi50MQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MyA9IGV4dHJhOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mi50MC5hc3NpZ24uY2FsbChfY29udGV4dDIudDAsIF9jb250ZXh0Mi50MiwgX2NvbnRleHQyLnQzKSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldEhlYWRlcnMoKSB7CiAgICAgICAgcmV0dXJuIF9nZXRIZWFkZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRIZWFkZXJzOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQodXJsLCBwYXJhbXMpIHsKICAgICAgcmV0dXJuIGF4aW9zLmdldCh1cmwsIHsKICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgcmV0dXJuIHIuZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicG9zdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Bvc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHVybCwgZGF0YSkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBheGlvczsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MSA9IHVybDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MiA9IGRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRIZWFkZXJzKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQ0ID0gewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiBfY29udGV4dDMudDMKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQzLnQwLnBvc3QuY2FsbChfY29udGV4dDMudDAsIF9jb250ZXh0My50MSwgX2NvbnRleHQzLnQyLCBfY29udGV4dDMudDQpLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHIuZGF0YTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcG9zdChfeCwgX3gyKSB7CiAgICAgICAgcmV0dXJuIF9wb3N0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwb3N0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAicHV0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcHV0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCh1cmwsIGRhdGEpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gYXhpb3M7CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDEgPSB1cmw7CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDIgPSBkYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SGVhZGVycygpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDMgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50NCA9IHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogX2NvbnRleHQ0LnQzCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NC50MC5wdXQuY2FsbChfY29udGV4dDQudDAsIF9jb250ZXh0NC50MSwgX2NvbnRleHQ0LnQyLCBfY29udGV4dDQudDQpLnRoZW4oZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHIuZGF0YTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcHV0KF94MywgX3g0KSB7CiAgICAgICAgcmV0dXJuIF9wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHB1dDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImRlbGV0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2RlbGV0ZTIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KHVybCwgZGF0YSkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBheGlvczsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MSA9IHVybDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEhlYWRlcnMoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQyID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDMgPSBkYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQ0ID0gewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiBfY29udGV4dDUudDIsCiAgICAgICAgICAgICAgICAgIGRhdGE6IF9jb250ZXh0NS50MwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDUudDAuZGVsZXRlLmNhbGwoX2NvbnRleHQ1LnQwLCBfY29udGV4dDUudDEsIF9jb250ZXh0NS50NCkudGhlbihmdW5jdGlvbiAocikgewogICAgICAgICAgICAgICAgICByZXR1cm4gci5kYXRhOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBfZGVsZXRlKF94NSwgX3g2KSB7CiAgICAgICAgcmV0dXJuIF9kZWxldGUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBfZGVsZXRlOwogICAgfSgpCiAgfV0pOwoKICByZXR1cm4gQXBpU2VydmljZTsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgQXBpU2VydmljZTs="},{"version":3,"sources":["/home/gh/Devops/momo-store/frontend/src/services/api.service.ts"],"names":[],"mappings":";;;;;AAAA,OAAO,KAAP,MAA2C,OAA3C;AACA,SAAS,KAAT,QAAsB,QAAtB;AAEA,KAAK,CAAC,QAAN,CAAe,OAAf,GAAyB,OAAO,CAAC,GAAR,CAAY,eAArC;;IACM,U;;;;;;;;kFAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0B,gBAAA,KAA1B,2DAAkC,IAAlC;AACQ,gBAAA,OADR,GACkB,KAAK,CAAC,QAAQ,CAAC,MAAV,CADvB;;AAAA,qBAGK,OAAO,CAAC,sBAAD,CAHZ;AAAA;AAAA;AAAA;;AAAA,iDAIW,OAAO,CAAC,sBAAD,CAJlB;;AAAA;AAAA,oBAOM,KAPN;AAAA;AAAA;AAAA;;AAAA,iDAOoB,OAAO,CAAC,MAAR,CAAe,qBAAf,CAPpB;;AAAA;AAAA;AAAA,uBASQ,KAAK,GAAL,CAAS,QAAT,CATR;;AAAA;AAAA,iDAWS,KAAK,YAAL,CAAkB,KAAlB,CAXT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;gFAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwB,gBAAA,KAAxB,8DAA0D,EAA1D;AAAA,+BACS,MADT;AAAA;AAAA,uBAEyB,KAAK,YAAL,EAFzB;;AAAA;AAAA;AAAA;AAEI,+BAFJ;AAAA;AAAA,+BAGK,KAHL;AAAA,+DACgB,MADhB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;WAMA,aAAW,GAAX,EAAwB,MAAxB,EAAoC;AAClC,aAAO,KAAK,CAAC,GAAN,CAAU,GAAV,EAAe;AAAE,QAAA,MAAM,EAAN;AAAF,OAAf,EAA2B,IAA3B,CAAgC,UAAA,CAAC;AAAA,eAAI,CAAC,CAAC,IAAN;AAAA,OAAjC,CAAP;AACD;;;;0EAED,kBAAkB,GAAlB,EAA+B,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA,+BACS,KADT;AAAA,+BACoB,GADpB;AAAA,+BACyB,IADzB;AAAA;AAAA,uBACgD,KAAK,UAAL,EADhD;;AAAA;AAAA;AAAA;AACiC,kBAAA,OADjC;AAAA;AAAA,+DACe,IADf,8DACqE,IADrE,CAC0E,UAAA,CAAC;AAAA,yBAAI,CAAC,CAAC,IAAN;AAAA,iBAD3E;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;yEAIA,kBAAiB,GAAjB,EAA8B,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,+BACS,KADT;AAAA,+BACmB,GADnB;AAAA,+BACwB,IADxB;AAAA;AAAA,uBAC+C,KAAK,UAAL,EAD/C;;AAAA;AAAA;AAAA;AACgC,kBAAA,OADhC;AAAA;AAAA,+DACe,GADf,8DACoE,IADpE,CACyE,UAAA,CAAC;AAAA,yBAAI,CAAC,CAAC,IAAN;AAAA,iBAD1E;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;6EAIA,kBAAoB,GAApB,EAAiC,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,+BACS,KADT;AAAA,+BACsB,GADtB;AAAA;AAAA,uBAC4C,KAAK,UAAL,EAD5C;;AAAA;AAAA;AAAA,+BAC+D,IAD/D;AAAA;AAC6B,kBAAA,OAD7B;AAC+D,kBAAA,IAD/D;AAAA;AAAA,+DACe,MADf,gDACuE,IADvE,CAC4E,UAAA,CAAC;AAAA,yBAAI,CAAC,CAAC,IAAN;AAAA,iBAD7E;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;;AAKF,eAAe,UAAf","sourcesContent":["import axios, { AxiosRequestHeaders } from 'axios';\nimport { parse } from 'cookie';\n\naxios.defaults.baseURL = process.env.VUE_APP_API_URL;\nclass ApiService {\n\n  static csrf_token: string;\n\n  static async getCsrfToken(fetch = true): Promise<string> {\n    const cookies = parse(document.cookie);\n\n    if(cookies['mock_store_csrftoken']) {\n      return cookies['mock_store_csrftoken'];\n    }\n\n    if(!fetch) return Promise.reject('No CSRF token found');\n\n    await this.get('/csrf/');\n\n    return this.getCsrfToken(false);\n  }\n\n  static async getHeaders(extra: {[name: string]: string} = {}): Promise<AxiosRequestHeaders> {\n    return Object.assign({\n      'X-CSRFTOKEN': await this.getCsrfToken(),\n    }, extra);\n  }\n\n  static get(url: string, params?: any) {\n    return axios.get(url, { params }).then(r => r.data);\n  }\n\n  static async post(url: string, data?: any) {\n    return axios.post(url, data, { headers: await this.getHeaders() }).then(r => r.data);\n  }\n\n  static async put(url: string, data?: any) {\n    return axios.put(url, data, { headers: await this.getHeaders() }).then(r => r.data);\n  }\n\n  static async delete(url: string, data?: any) {\n    return axios.delete(url, { headers: await this.getHeaders(), data }).then(r => r.data);\n  }\n}\n\nexport default ApiService;"],"sourceRoot":""}]}