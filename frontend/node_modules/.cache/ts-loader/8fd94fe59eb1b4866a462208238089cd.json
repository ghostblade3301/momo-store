{"remainingRequest":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-plugin-typescript/node_modules/thread-loader/dist/cjs.js!/home/gh/Devops/momo-store/frontend/node_modules/babel-loader/lib/index.js!/home/gh/Devops/momo-store/frontend/node_modules/ts-loader/index.js??ref--14-3!/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/gh/Devops/momo-store/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/gh/Devops/momo-store/frontend/src/components/profile/ChangePassword.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/gh/Devops/momo-store/frontend/src/components/profile/ChangePassword.vue","mtime":1720610520162},{"path":"/home/gh/Devops/momo-store/frontend/babel.config.js","mtime":1720610520158},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js","mtime":1720610674487},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-plugin-typescript/node_modules/thread-loader/dist/cjs.js","mtime":1720610674455},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/babel-loader/lib/index.js","mtime":1720610669087},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/ts-loader/index.js","mtime":1720610659715},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1720610674459},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1720610659567}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBTcGlubmVyIGZyb20gJ0AvY29tcG9uZW50cy9taXNjL1NwaW5uZXIudnVlJzsKaW1wb3J0IENlbnRlciBmcm9tICdAL2NvbXBvbmVudHMvbWlzYy9DZW50ZXIudnVlJzsKaW1wb3J0IEFsZXJ0IGZyb20gJ0AvY29tcG9uZW50cy9taXNjL0FsZXJ0LnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgbmFtZTogJ0NoYW5nZVBhc3N3b3JkJywKICBjb21wb25lbnRzOiB7CiAgICBTcGlubmVyOiBTcGlubmVyLAogICAgQ2VudGVyOiBDZW50ZXIsCiAgICBBbGVydDogQWxlcnQKICB9LAogIGVtaXRzOiBbJ2Nsb3NlJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9sZFBhc3N3b3JkOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBwYXNzd29yZENvbmZpcm1hdGlvbjogJycsCiAgICAgIGVycm9yOiAnJywKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yX21lc3NhZ2U6ICcnLAogICAgICBzdWNjZXNzX21lc3NhZ2U6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2hhbmdlUGFzc3dvcmQnLCB7CiAgICAgICAgb2xkX3Bhc3N3b3JkOiB0aGlzLm9sZFBhc3N3b3JkLAogICAgICAgIG5ld19wYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMuc3VjY2Vzc19tZXNzYWdlID0gZGF0YS5kZXRhaWw7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy4kZW1pdCgnY2xvc2UnKTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgICAgIH0sIDMwMDApOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBpZiAoIWVycm9yLmlzQXhpb3NFcnJvciB8fCAhZXJyb3IucmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzLmVycm9yX21lc3NhZ2UgPSAnQ29ubmVjdGlvbiBlcnJvcic7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmVycm9yX21lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLmRldGFpbDsKICAgICAgICB9CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlUGFzc3dvcmRJbnB1dDogZnVuY3Rpb24gaGFuZGxlUGFzc3dvcmRJbnB1dCgpIHsKICAgICAgdmFyIGNvbmZpcm1hdGlvbklucHV0ID0gdGhpcy4kcmVmcy5wYXNzd29yZENvbmZpcm1hdGlvbjsKICAgICAgY29uZmlybWF0aW9uSW5wdXQuc2V0Q3VzdG9tVmFsaWRpdHkodGhpcy5wYXNzd29yZCA9PT0gdGhpcy5wYXNzd29yZENvbmZpcm1hdGlvbiA/ICcnIDogJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/gh/Devops/momo-store/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/gh/Devops/momo-store/frontend/src/components/profile/ChangePassword.vue?vue&type=script&lang=ts"],"names":[],"mappings":";AACA,SAAS,eAAT,QAAgC,KAAhC;AAGA,OAAO,OAAP,MAAoB,+BAApB;AACA,OAAO,MAAP,MAAmB,8BAAnB;AACA,OAAO,KAAP,MAAkB,6BAAlB;AAEA,eAAe,eAAe,CAAC;AAC7B,EAAA,IAAI,EAAE,gBADuB;AAE7B,EAAA,UAAU,EAAE;AACV,IAAA,OAAO,EAAP,OADU;AAEV,IAAA,MAAM,EAAN,MAFU;AAGV,IAAA,KAAK,EAAL;AAHU,GAFiB;AAO7B,EAAA,KAAK,EAAE,CACL,OADK,CAPsB;AAU7B,EAAA,IAV6B,kBAUzB;AACF,WAAO;AACL,MAAA,WAAW,EAAE,EADR;AAEL,MAAA,QAAQ,EAAE,EAFL;AAGL,MAAA,oBAAoB,EAAE,EAHjB;AAIL,MAAA,KAAK,EAAE,EAJF;AAKL,MAAA,OAAO,EAAE,KALJ;AAML,MAAA,aAAa,EAAE,EANV;AAOL,MAAA,eAAe,EAAE;AAPZ,KAAP;AASD,GApB4B;AAqB7B,EAAA,OAAO,EAAE;AACP,IAAA,YADO,0BACK;AAAA;;AACV,WAAK,OAAL,GAAe,IAAf;AAEA,WAAK,MAAL,CAAY,QAAZ,CAAqB,gBAArB,EAAuC;AACrC,QAAA,YAAY,EAAE,KAAK,WADkB;AAErC,QAAA,YAAY,EAAE,KAAK;AAFkB,OAAvC,EAGG,IAHH,CAGQ,UAAC,IAAD,EAAc;AAEpB,QAAA,KAAI,CAAC,eAAL,GAAuB,IAAI,CAAC,MAA5B;AACA,QAAA,UAAU,CAAC,YAAK;AACd,UAAA,KAAI,CAAC,KAAL,CAAW,OAAX;;AACA,UAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACD,SAHS,EAGP,IAHO,CAAV;AAKD,OAXD,EAWG,KAXH,CAWS,UAAC,KAAD,EAAsB;AAC7B,YAAG,CAAC,KAAK,CAAC,YAAP,IAAuB,CAAC,KAAK,CAAC,QAAjC,EAA2C;AACzC,UAAA,KAAI,CAAC,aAAL,GAAqB,kBAArB;AACD,SAFD,MAEO;AACL,UAAA,KAAI,CAAC,aAAL,GAAqB,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,MAAzC;AACD;AAEF,OAlBD,EAkBG,OAlBH,CAkBW,YAAK;AACd,QAAA,KAAI,CAAC,OAAL,GAAe,KAAf;AACD,OApBD;AAqBD,KAzBM;AA0BP,IAAA,mBA1BO,iCA0BY;AACjB,UAAM,iBAAiB,GAAG,KAAK,KAAL,CAAW,oBAArC;AACA,MAAA,iBAAiB,CAAC,iBAAlB,CAAoC,KAAK,QAAL,KAAkB,KAAK,oBAAvB,GAA8C,EAA9C,GAAmD,wBAAvF;AACD;AA7BM;AArBoB,CAAD,CAA9B","sourcesContent":["\nimport { defineComponent } from 'vue'\nimport { AxiosError } from 'axios';\n\nimport Spinner from '@/components/misc/Spinner.vue';\nimport Center from '@/components/misc/Center.vue';\nimport Alert from '@/components/misc/Alert.vue';\n\nexport default defineComponent({\n  name: 'ChangePassword',\n  components: {\n    Spinner,\n    Center,\n    Alert\n  },\n  emits: [\n    'close'\n  ],\n  data() {\n    return {\n      oldPassword: '',\n      password: '',\n      passwordConfirmation: '',\n      error: '',\n      loading: false,\n      error_message: '',\n      success_message: ''\n    }\n  },\n  methods: {\n    handleSubmit() {\n      this.loading = true;\n\n      this.$store.dispatch('changePassword', {\n        old_password: this.oldPassword,\n        new_password: this.password\n      }).then((data: any) => {\n\n        this.success_message = data.detail;\n        setTimeout(() => {\n          this.$emit('close');\n          this.$router.push('/login');\n        }, 3000);\n\n      }).catch((error: AxiosError) => {\n        if(!error.isAxiosError || !error.response) {\n          this.error_message = 'Connection error';\n        } else {\n          this.error_message = error.response.data.detail;\n        }\n\n      }).finally(() => {\n        this.loading = false;\n      });\n    },\n    handlePasswordInput() {\n      const confirmationInput = this.$refs.passwordConfirmation as HTMLInputElement;\n      confirmationInput.setCustomValidity(this.password === this.passwordConfirmation ? '' : 'Passwords do not match');\n    }\n  }\n})\n"],"sourceRoot":""}]}