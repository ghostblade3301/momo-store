{"remainingRequest":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-plugin-typescript/node_modules/thread-loader/dist/cjs.js!/home/gh/Devops/momo-store/frontend/node_modules/babel-loader/lib/index.js!/home/gh/Devops/momo-store/frontend/node_modules/ts-loader/index.js??ref--14-3!/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/gh/Devops/momo-store/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/gh/Devops/momo-store/frontend/src/views/Login.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/gh/Devops/momo-store/frontend/src/views/Login.vue","mtime":1720610520162},{"path":"/home/gh/Devops/momo-store/frontend/babel.config.js","mtime":1720610520158},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js","mtime":1720610674487},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-plugin-typescript/node_modules/thread-loader/dist/cjs.js","mtime":1720610674455},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/babel-loader/lib/index.js","mtime":1720610669087},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/ts-loader/index.js","mtime":1720610659715},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1720610674459},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1720610659567}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IFNwaW5uZXIgZnJvbSAnQC9jb21wb25lbnRzL21pc2MvU3Bpbm5lci52dWUnOwppbXBvcnQgQ2VudGVyIGZyb20gJ0AvY29tcG9uZW50cy9taXNjL0NlbnRlci52dWUnOwppbXBvcnQgQWxlcnQgZnJvbSAnQC9jb21wb25lbnRzL21pc2MvQWxlcnQudnVlJzsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudHM6IHsKICAgIFNwaW5uZXI6IFNwaW5uZXIsCiAgICBDZW50ZXI6IENlbnRlciwKICAgIEFsZXJ0OiBBbGVydAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZXJyb3I6ICcnLAogICAgICBnb3RvOiAnJwogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuYXV0aC5pc0xvZ2dlZEluKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZXIucHVzaCgnL3Byb2ZpbGUnKTsKICAgIH0KCiAgICB2YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7CiAgICB0aGlzLmdvdG8gPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgnZ290bycpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ2luJywgewogICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaChfdGhpcy5nb3RvIHx8ICcvJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGlmICghZXJyb3IuaXNBeGlvc0Vycm9yIHx8ICFlcnJvci5yZXNwb25zZSkgewogICAgICAgICAgX3RoaXMuZXJyb3IgPSAnQ29ubmVjdGlvbiBlcnJvcic7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLmVycm9yID0gZXJyb3IucmVzcG9uc2UuZGF0YS5kZXRhaWw7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/gh/Devops/momo-store/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/gh/Devops/momo-store/frontend/src/views/Login.vue?vue&type=script&lang=ts"],"names":[],"mappings":";;;;;AACA,SAAS,eAAT,QAAgC,KAAhC;AAGA,OAAO,OAAP,MAAoB,+BAApB;AACA,OAAO,MAAP,MAAmB,8BAAnB;AACA,OAAO,KAAP,MAAkB,6BAAlB;AAEA,eAAe,eAAe,CAAC;AAC7B,EAAA,IAAI,EAAE,OADuB;AAE7B,EAAA,UAAU,EAAE;AACV,IAAA,OAAO,EAAP,OADU;AAEV,IAAA,MAAM,EAAN,MAFU;AAGV,IAAA,KAAK,EAAL;AAHU,GAFiB;AAO7B,EAAA,IAP6B,kBAOzB;AACF,WAAO;AACL,MAAA,KAAK,EAAE,EADF;AAEL,MAAA,QAAQ,EAAE,EAFL;AAGL,MAAA,OAAO,EAAE,KAHJ;AAIL,MAAA,KAAK,EAAE,EAJF;AAKL,MAAA,IAAI,EAAE;AALD,KAAP;AAOD,GAf4B;AAgB7B,EAAA,OAhB6B,qBAgBtB;AAEL,QAAG,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,UAA1B,EAAsC;AACpC,aAAO,KAAK,OAAL,CAAa,IAAb,CAAkB,UAAlB,CAAP;AACD;;AAED,QAAM,GAAG,GAAG,IAAI,GAAJ,CAAQ,MAAM,CAAC,QAAP,CAAgB,IAAxB,CAAZ;AACA,SAAK,IAAL,GAAY,GAAG,CAAC,YAAJ,CAAiB,GAAjB,CAAqB,MAArB,CAAZ;AACD,GAxB4B;AAyB7B,EAAA,OAAO,EAAE;AACP,IAAA,KADO,mBACF;AAAA;;AACH,WAAK,OAAL,GAAe,IAAf;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,OAArB,EAA8B;AAC5B,QAAA,KAAK,EAAE,KAAK,KADgB;AAE5B,QAAA,QAAQ,EAAE,KAAK;AAFa,OAA9B,EAGG,IAHH,CAGQ,UAAC,MAAD,EAAgB;AACtB,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,KAAI,CAAC,IAAL,IAAa,GAA/B;AACD,OALD,EAKG,KALH,CAKS,UAAC,KAAD,EAAsB;AAE7B,YAAG,CAAC,KAAK,CAAC,YAAP,IAAuB,CAAC,KAAK,CAAC,QAAjC,EAA2C;AACzC,UAAA,KAAI,CAAC,KAAL,GAAa,kBAAb;AACD,SAFD,MAEO;AACL,UAAA,KAAI,CAAC,KAAL,GAAa,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,MAAjC;AACD;;AAED,QAAA,KAAI,CAAC,OAAL,GAAe,KAAf;AAED,OAfD;AAgBD;AAnBM;AAzBoB,CAAD,CAA9B","sourcesContent":["\nimport { defineComponent } from 'vue'\nimport { AxiosError } from 'axios';\n\nimport Spinner from '@/components/misc/Spinner.vue'\nimport Center from '@/components/misc/Center.vue'\nimport Alert from '@/components/misc/Alert.vue'\n\nexport default defineComponent({\n  name: 'Login',\n  components: {\n    Spinner,\n    Center,\n    Alert\n  },\n  data() {\n    return {\n      email: '',\n      password: '',\n      loading: false,\n      error: '',\n      goto: ''\n    }\n  },\n  created() {\n    \n    if(this.$store.state.auth.isLoggedIn) {\n      return this.$router.push('/profile');\n    }\n\n    const url = new URL(window.location.href);\n    this.goto = url.searchParams.get('goto') as string;\n  },\n  methods: {\n    login() {\n      this.loading = true;\n      this.$store.dispatch('login', {\n        email: this.email,\n        password: this.password\n      }).then((result: any) => {\n        this.$router.push(this.goto || '/');\n      }).catch((error: AxiosError) => {\n\n        if(!error.isAxiosError || !error.response) {\n          this.error = 'Connection error';\n        } else {\n          this.error = error.response.data.detail;\n        }\n\n        this.loading = false;\n\n      });\n    }\n  }\n})\n"],"sourceRoot":""}]}