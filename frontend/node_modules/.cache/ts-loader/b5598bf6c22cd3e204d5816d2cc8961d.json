{"remainingRequest":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-plugin-typescript/node_modules/thread-loader/dist/cjs.js!/home/gh/Devops/momo-store/frontend/node_modules/babel-loader/lib/index.js!/home/gh/Devops/momo-store/frontend/node_modules/ts-loader/index.js??ref--14-3!/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/gh/Devops/momo-store/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/gh/Devops/momo-store/frontend/src/views/Catalog.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/gh/Devops/momo-store/frontend/src/views/Catalog.vue","mtime":1720610520162},{"path":"/home/gh/Devops/momo-store/frontend/babel.config.js","mtime":1720610520158},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js","mtime":1720610674487},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-plugin-typescript/node_modules/thread-loader/dist/cjs.js","mtime":1720610674455},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/babel-loader/lib/index.js","mtime":1720610669087},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/ts-loader/index.js","mtime":1720610659715},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1720610674459},{"path":"/home/gh/Devops/momo-store/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1720610659567}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAidnVlIjsKaW1wb3J0IFByb2R1Y3RzIGZyb20gIkAvY29tcG9uZW50cy9jYXRhbG9nL1Byb2R1Y3RzLnZ1ZSI7CmltcG9ydCBQYWdpbmF0aW9uIGZyb20gIkAvY29tcG9uZW50cy9jYXRhbG9nL1BhZ2luYXRpb24udnVlIjsKaW1wb3J0IFNlYXJjaCBmcm9tICJAL2NvbXBvbmVudHMvY2F0YWxvZy9TZWFyY2gudnVlIjsKaW1wb3J0IENhcnRDYXJkIGZyb20gIkAvY29tcG9uZW50cy9jYXRhbG9nL0NhcnRDYXJkLnZ1ZSI7CmltcG9ydCBGaWx0ZXJzIGZyb20gIkAvY29tcG9uZW50cy9jYXRhbG9nL0ZpbHRlcnMudnVlIjsKaW1wb3J0IFByb2R1Y3RzU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL3Jlc291cmNlcy9wcm9kdWN0cy5zZXJ2aWNlIjsKaW1wb3J0IFByb2R1Y3RNb2RlbCBmcm9tICJAL21vZGVscy9wcm9kdWN0Lm1vZGVsIjsKaW1wb3J0IFBhZ2luYXRpb25Nb2RlbCBmcm9tICJAL21vZGVscy9wYWdpbmF0aW9uLm1vZGVsIjsKdmFyIHByb2R1Y3RzU2VydmljZSA9IG5ldyBQcm9kdWN0c1NlcnZpY2UoKTsKdmFyIFBBR0VfU0laRSA9IDEyOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICJDYXRhbG9nIiwKICBjb21wb25lbnRzOiB7CiAgICBQcm9kdWN0czogUHJvZHVjdHMsCiAgICBQYWdpbmF0aW9uOiBQYWdpbmF0aW9uLAogICAgU2VhcmNoOiBTZWFyY2gsCiAgICBDYXJ0Q2FyZDogQ2FydENhcmQsCiAgICBGaWx0ZXJzOiBGaWx0ZXJzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHByb2R1Y3RzID0gUGFnaW5hdGlvbk1vZGVsLmVtcHR5KFByb2R1Y3RNb2RlbCk7CiAgICB2YXIgY2F0ZWdvcmllc19maWx0ZXIgPSBbXTsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3RzOiBwcm9kdWN0cywKICAgICAgY2F0ZWdvcmllc19maWx0ZXI6IGNhdGVnb3JpZXNfZmlsdGVyLAogICAgICBzZWFyY2hfcXVlcnk6ICIiLAogICAgICBsb2FkaW5nOiB0cnVlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hQcm9kdWN0cygpOwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hQcm9kdWN0czogZnVuY3Rpb24gZmV0Y2hQcm9kdWN0cyhwYWdlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBwYWdlID0gcGFnZSB8fCB0aGlzLnByb2R1Y3RzLmN1cnJlbnRfcGFnZTsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgcmV0dXJuIHByb2R1Y3RzU2VydmljZS5xdWVyeSh7CiAgICAgICAgcGFnZTogcGFnZSwKICAgICAgICBzaXplOiBQQUdFX1NJWkUsCiAgICAgICAgY2F0ZWdvcmllczogdGhpcy5jYXRlZ29yaWVzX2ZpbHRlciwKICAgICAgICBzZWFyY2g6IHRoaXMuc2VhcmNoX3F1ZXJ5IHx8IHVuZGVmaW5lZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChwcm9kdWN0cykgewogICAgICAgIF90aGlzLnByb2R1Y3RzID0gcHJvZHVjdHM7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTZWFyY2g6IGZ1bmN0aW9uIGhhbmRsZVNlYXJjaChxdWVyeSkgewogICAgICB0aGlzLnNlYXJjaF9xdWVyeSA9IHF1ZXJ5OwogICAgICB0aGlzLnByb2R1Y3RzLmN1cnJlbnRfcGFnZSA9IDE7CiAgICAgIHRoaXMuZmV0Y2hQcm9kdWN0cygpOwogICAgfSwKICAgIGhhbmRsZUZpbHRlcnNDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUZpbHRlcnNDaGFuZ2UoY2F0ZWdvcmllcykgewogICAgICB0aGlzLmNhdGVnb3JpZXNfZmlsdGVyID0gY2F0ZWdvcmllczsKICAgICAgdGhpcy5wcm9kdWN0cy5jdXJyZW50X3BhZ2UgPSAxOwogICAgICB0aGlzLmZldGNoUHJvZHVjdHMoKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/gh/Devops/momo-store/frontend/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/gh/Devops/momo-store/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/gh/Devops/momo-store/frontend/src/views/Catalog.vue?vue&type=script&lang=ts"],"names":[],"mappings":"AACA,SAAS,eAAT,QAAgC,KAAhC;AAEA,OAAO,QAAP,MAAqB,mCAArB;AACA,OAAO,UAAP,MAAuB,qCAAvB;AACA,OAAO,MAAP,MAAmB,iCAAnB;AACA,OAAO,QAAP,MAAqB,mCAArB;AACA,OAAO,OAAP,MAAoB,kCAApB;AAEA,OAAO,eAAP,MAA4B,uCAA5B;AACA,OAAO,YAAP,MAAyB,wBAAzB;AACA,OAAO,eAAP,MAA4B,2BAA5B;AAEA,IAAM,eAAe,GAAG,IAAI,eAAJ,EAAxB;AAEA,IAAM,SAAS,GAAG,EAAlB;AAEA,eAAe,eAAe,CAAC;AAC7B,EAAA,IAAI,EAAE,SADuB;AAE7B,EAAA,UAAU,EAAE;AACV,IAAA,QAAQ,EAAR,QADU;AAEV,IAAA,UAAU,EAAV,UAFU;AAGV,IAAA,MAAM,EAAN,MAHU;AAIV,IAAA,QAAQ,EAAR,QAJU;AAKV,IAAA,OAAO,EAAP;AALU,GAFiB;AAS7B,EAAA,IAT6B,kBASzB;AACF,QAAM,QAAQ,GAAG,eAAe,CAAC,KAAhB,CAAsB,YAAtB,CAAjB;AACA,QAAM,iBAAiB,GAAa,EAApC;AACA,WAAO;AACL,MAAA,QAAQ,EAAR,QADK;AAEL,MAAA,iBAAiB,EAAjB,iBAFK;AAGL,MAAA,YAAY,EAAE,EAHT;AAIL,MAAA,OAAO,EAAE;AAJJ,KAAP;AAMD,GAlB4B;AAmB7B,EAAA,OAnB6B,qBAmBtB;AACL,SAAK,aAAL;AACD,GArB4B;AAsB7B,EAAA,OAAO,EAAE;AACP,IAAA,aADO,yBACO,IADP,EACoB;AAAA;;AACzB,MAAA,IAAI,GAAG,IAAI,IAAI,KAAK,QAAL,CAAc,YAA7B;AACA,WAAK,OAAL,GAAe,IAAf;AACA,aAAO,eAAe,CACnB,KADI,CACE;AACL,QAAA,IAAI,EAAJ,IADK;AAEL,QAAA,IAAI,EAAE,SAFD;AAGL,QAAA,UAAU,EAAE,KAAK,iBAHZ;AAIL,QAAA,MAAM,EAAE,KAAK,YAAL,IAAqB;AAJxB,OADF,EAOJ,IAPI,CAOC,UAAC,QAAD,EAAa;AACjB,QAAA,KAAI,CAAC,QAAL,GAAgB,QAAhB;AACA,QAAA,KAAI,CAAC,OAAL,GAAe,KAAf;AACD,OAVI,CAAP;AAWD,KAfM;AAgBP,IAAA,YAhBO,wBAgBM,KAhBN,EAgBmB;AACxB,WAAK,YAAL,GAAoB,KAApB;AACA,WAAK,QAAL,CAAc,YAAd,GAA6B,CAA7B;AACA,WAAK,aAAL;AACD,KApBM;AAqBP,IAAA,mBArBO,+BAqBa,UArBb,EAqBiC;AACtC,WAAK,iBAAL,GAAyB,UAAzB;AACA,WAAK,QAAL,CAAc,YAAd,GAA6B,CAA7B;AACA,WAAK,aAAL;AACD;AAzBM;AAtBoB,CAAD,CAA9B","sourcesContent":["\nimport { defineComponent } from \"vue\";\n\nimport Products from \"@/components/catalog/Products.vue\";\nimport Pagination from \"@/components/catalog/Pagination.vue\";\nimport Search from \"@/components/catalog/Search.vue\";\nimport CartCard from \"@/components/catalog/CartCard.vue\";\nimport Filters from \"@/components/catalog/Filters.vue\";\n\nimport ProductsService from \"@/services/resources/products.service\";\nimport ProductModel from \"@/models/product.model\";\nimport PaginationModel from \"@/models/pagination.model\";\n\nconst productsService = new ProductsService();\n\nconst PAGE_SIZE = 12;\n\nexport default defineComponent({\n  name: \"Catalog\",\n  components: {\n    Products,\n    Pagination,\n    Search,\n    CartCard,\n    Filters,\n  },\n  data() {\n    const products = PaginationModel.empty(ProductModel);\n    const categories_filter: number[] = [];\n    return {\n      products,\n      categories_filter,\n      search_query: \"\",\n      loading: true,\n    };\n  },\n  created() {\n    this.fetchProducts();\n  },\n  methods: {\n    fetchProducts(page?: number) {\n      page = page || this.products.current_page;\n      this.loading = true;\n      return productsService\n        .query({\n          page,\n          size: PAGE_SIZE,\n          categories: this.categories_filter,\n          search: this.search_query || undefined,\n        })\n        .then((products) => {\n          this.products = products;\n          this.loading = false;\n        });\n    },\n    handleSearch(query: string) {\n      this.search_query = query;\n      this.products.current_page = 1;\n      this.fetchProducts();\n    },\n    handleFiltersChange(categories: number[]) {\n      this.categories_filter = categories;\n      this.products.current_page = 1;\n      this.fetchProducts();\n    },\n  },\n});\n"],"sourceRoot":""}]}